[{"path":"https://usaid-oha-si.github.io/mindthegap/articles/01_accessing-clean-unaids.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Accesing Clean UNAIDS Data","text":"vignette covers access clean tidy annual UNAIDS Estimates Google Drive R. MindTheGap package uses cleaning function (munge_unaids) process, munge, tidy UNAIDS HIV Estimates AIDSInfo pull_unaids pull cleaned data Google Drive. Let’s start loading MindTheGap package.","code":"library(mindthegap)"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/01_accessing-clean-unaids.html","id":"aidsinfo-data-structure-and-tidying","dir":"Articles","previous_headings":"","what":"AIDSInfo Data Structure and Tidying","title":"Accesing Clean UNAIDS Data","text":"UNAIDS data reports HIV estimates uncertainty bounds 1990 2020, includes percent indicators integer indicators. data sourced UNAIDS AIDSInfo database, making publicly accessible data. HIV/AIDS Estimates HIV Testing Treatment Cascade Data structure data AIDSInfo tidy requires munging reshaping can utilized analytics visualizations. , munge_unaids function reads original dataset Google Drive, munges reshapes data tidy format, exports data dataframe push back Google Drive. use munge_unaids, 2 important parameters: 1. return_type: group data want use (HIV Estimates Test & Treat Cascade) 2. indicator_type: percent indicators integer indicators. Let’s take look munge_unaids works .","code":"df <- munge_unaids(return_type = \"HIV Estimates\", indicator_type = \"Integer\") knitr::kable(head(df), format = \"html\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/01_accessing-clean-unaids.html","id":"pull-clean-data-from-google-drive","dir":"Articles","previous_headings":"","what":"Pull clean data from Google Drive","title":"Accesing Clean UNAIDS Data","text":"munge_unaids, left clean tidy dataset includes flag denote whether country PEPFAR country . order make data accessible outside R cut processing time, uploaded clean UNAIDS data Google Drive wrote function pull_unaids easily access data. use pull_unaids, 2 parameters: sheetname: parameter corresponds earlier parameter munge_unaids denotes return_type indicator_type. “HIV Estimates - Integer” “HIV Estimates - Percent” “Test & Treat - Integer” “Test & Treat - Percent” pepfar_only: TRUE, parameter return dataset PEPFAR countries order access data Google drive, sure load USAID credentials. can achieve using glamr::load_secrets() function glamr package authenticate googlesheets package using googlesheets::gs_auth().","code":"library(glamr) load_secrets()  df_est <- pull_unaids(sheetname = \"HIV Estimates - Integer\", pepfar_only = TRUE) knitr::kable(head(df_est), format = \"html\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/02_unaids-data-dictionary.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Data Dictionary & Use Cases","text":"vignette serves data dictionary UNAIDS 2020 Estimates Data. cover data structure variables, well provide overview indicators across HIV Estimates tab Test & Treat tab. Finally, touch briefly common use cases data tab access analytics.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/02_unaids-data-dictionary.html","id":"unaids-clean-data-structure","dir":"Articles","previous_headings":"","what":"UNAIDS Clean Data Structure","title":"Data Dictionary & Use Cases","text":"Let’s first take look data structure, using HIV Estimates - Percent tab example. Within UNAIDS datasets, disaggregates age sex. also variable called stat, indicates whether value actual estimate, lower upper bound. Let’s take look disaggregates \"HIV Estimates - Percent\" tab. Age/Sex/Stat Count Table HIV Estimates - Percent tab can see, multiple different disaggregates, especially across indicators. instance, looking HIV Incidence, age disaggregates ages 15-49 ages, disaggregates sex. looking Prevalence, sex disaggregates young adults (15-24), sex disaggregates age group 15-49. , important filter age/sex/stat disaggregates interested diving analytics.","code":"df_pct <- pull_unaids(sheetname = \"HIV Estimates - Percent\", pepfar_only = TRUE) knitr::kable(head(df_pct, n = 6L), format = \"html\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/02_unaids-data-dictionary.html","id":"hiv-estimates-indicators-and-use-cases","dir":"Articles","previous_headings":"","what":"HIV Estimates Indicators and Use Cases","title":"Data Dictionary & Use Cases","text":"HIV estimates data covers epidemiological indicators, HIV prevalence/incidence, new infections, AIDS-related death, etc. 2 percent indicators (HIV Prevalence HIV Incidence) 4 integer indicators (PLHIV, AIDS-related deaths, PMTCT, New HIV Infections). pull percent HIV Estimates indicators PEPFAR countries, use pull_unaids(sheetname = \"HIV Estimates - Percent, pepfar_only = TRUE). pull integer HIV Estimates indicators, use pull_unaids(sheetname = \"HIV Estimates - Integer, pepfar_only = TRUE).","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/02_unaids-data-dictionary.html","id":"use-case-1-epidemic-control-curves","dir":"Articles","previous_headings":"HIV Estimates Indicators and Use Cases","what":"Use Case #1: Epidemic Control Curves","title":"Data Dictionary & Use Cases","text":"PEPFAR defines HIV epidemic control “point total number new HIV infections falls total number deaths causes among HIV-infected individuals, declining.” integer indicators HIV Estimates data can used analyze plot trends. assess progress towards definition epidemic control, use \"HIV Estimates - Integer\" data: New HIV Infections AIDS Related Deaths information create plots, see article Epidemic Control Plots.","code":"df_est <- pull_unaids(sheetname = \"HIV Estimates - Integer\", pepfar_only = TRUE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/02_unaids-data-dictionary.html","id":"use-case-2-incidenceprevalence-curves","dir":"Articles","previous_headings":"HIV Estimates Indicators and Use Cases","what":"Use Case #2: Incidence/Prevalence Curves","title":"Data Dictionary & Use Cases","text":"plot HIV Incidence Prevalence curves confidence intervals, use \"HIV Estimates - Percent\" data: Prevalence Incidence","code":"df_est <- pull_unaids(sheetname = \"HIV Estimates - Percent\", pepfar_only = TRUE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/02_unaids-data-dictionary.html","id":"test-treat-indicators-use-cases","dir":"Articles","previous_headings":"","what":"Test & Treat Indicators & Use Cases","title":"Data Dictionary & Use Cases","text":"Test & Treat Data covers indicators clinical cascade, can used track progress UNAIDS 90-90-90 targets. 6 percent indicators 5 integer indicators. pull percent Test & Treat indicators PEPFAR countries, use pull_unaids(sheetname = \"Test & Treat - Percent, pepfar_only = TRUE). pull integer Test & Treat indicators, use pull_unaids(sheetname = \"Test & Treat - Integer, pepfar_only = TRUE).","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/02_unaids-data-dictionary.html","id":"use-case-3-progress-to-90-90-90-targets","dir":"Articles","previous_headings":"Test & Treat Indicators & Use Cases","what":"Use Case #3: Progress to 90-90-90 Targets","title":"Data Dictionary & Use Cases","text":"percent indicators Test & Treat data can used assess progress UNAIDS 90-90-90 targets set achieved 2020, 90% PLHIV know status, 90% know status accessing treatment, 90% accessing treatment virally suppressed. assess progress 90-90-90 targets, use \"Test & Treat - Percent\" data: may notice, multiple test & treat percent indicators clinical cascade. 2 types metrics can used calculate progress 90-90-90 targets - relative base/conditional denominator PLHIV base/denominator. KNOWN_STATUS: Percent PLHIV known HIV status KNOWN_STATUS_ON_ART: Among know status, percent ART ON_ART_VLS: Among ART, percent virally suppressed KNOWN_STATUS: Percent PLHIV known HIV status PLHIV_ON_ART: Among PLHVIV, percent ART VLS: Among PLHIV, percent virally suppressed information distinction relative/PLHIV base assess 90-90-90 progress, see article 90-90-90 Target Progress: Relative Base vs. PLHIV Base.","code":"df_tt <- pull_unaids(sheetname = \"Test & Treat - Percent\", pepfar_only = TRUE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/03_relative-plhiv-base.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"90-90-90 Target Progress: Relative Base vs. PLHIV Base","text":"2014, UNAIDS proposed 90-90-90 targets set achieved 2020, 90% PLHIV know status, 90% know status accessing treatment, 90% accessing treatment virally suppressed. Importantly, two types metrics measure 90-90-90 target progress : PLHIV base relative/conditional denominator base. vignette outline key differences two metrics, UNAIDS indicators use , interpret different parameters.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/03_relative-plhiv-base.html","id":"whats-the-difference-between-the-relative-base-and-the-plhiv-base","dir":"Articles","previous_headings":"Introduction","what":"What’s the difference between the relative base and the PLHIV base?","title":"90-90-90 Target Progress: Relative Base vs. PLHIV Base","text":"relative base conditional denominator (based targets) important countries programs know focus response. metric provides values sliding scale, 90% PLHIV know status, 90% know status accessing treatment, 90% accessing treatment virally suppressed. PLHIV base/denominator (testing treatment cascade) best used comparing countries knowing country-specific progress towards curbing HIV epidemic. PLHIV base 3 90’s, targets become 90% PLHIV known status, 81% PLHIV accessing treatment, 73% PLHIV virally suppressed. useful, different purposes (see visual ).","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/03_relative-plhiv-base.html","id":"how-to-use-unaids-data-to-assess-90s-progress","dir":"Articles","previous_headings":"Introduction","what":"How to use UNAIDS Data to Assess 90’s Progress","title":"90-90-90 Target Progress: Relative Base vs. PLHIV Base","text":"assess progress 90-90-90 targets, use \"Test & Treat - Percent\" data: KNOWN_STATUS: Percent PLHIV known HIV status KNOWN_STATUS_ON_ART: Among know status, percent ART ON_ART_VLS: Among ART, percent virally suppressed KNOWN_STATUS: Percent PLHIV known HIV status PLHIV_ON_ART: Among PLHVIV, percent ART VLS: Among PLHIV, percent virally suppressed Let’s take deep dive Kenya’s progress 90’s using PLHIV base. Kenya’s 90-90-90 Progress using PLHIV Base can see, using PLHIV base, Kenya reached 3 90’s - 96% PLHIV know status, 86% PLHIV accessing treatment, 81% PLHIV virally suppressed. happens use relative base? Kenya’s 90-90-90 Progress using Relative Base Using relative base, can see 96% PLHIV Kenya know status, 89% 96% know status treatment, 94% 89% treatment virally suppressed. , Kenya meets 1st 3rd 90 relative base, reach 2nd 90. result differences 2 metrics, number PEPFAR countries reached 90s varies depending denominator. relative base, 6 countries reached 3 90’s: Eswatini, Rwanda, Malawi, Botswana, Uganda, Namibia.  PLHIV base, list countries expands 6 9 countries reached 3 90’s, adding Kenya, Zimbabwe, Lesotho.","code":"df_tt <- pull_unaids(sheetname = \"Test & Treat - Percent\", pepfar_only = TRUE) goal <- 90   #limit Test and Treat data   df_tt_plhiv <- df_tt %>%      filter(year == max(year),            country == \"Kenya\",            indicator %in% c(\"KNOWN_STATUS\", \"PLHIV_ON_ART\", \"VLS\"), #Using the PLHIV base indicators            age == \"all\",            sex == \"all\",            stat == \"est\") %>%      mutate(set = recode(indicator, \"KNOWN_STATUS\" = 1,                          \"PLHIV_ON_ART\" = 2,                         \"VLS\" = 3),            goal_rate = round((goal/100)^set*100),             achieved = value >= goal_rate) %>% #sets the moving goal rate for each 90 for PLHIV base     select(year, country, indicator, value, goal_rate, achieved)  knitr::kable(df_tt_plhiv,              format = \"html\",              caption = \"Kenya's 90-90-90 Progress using PLHIV Base\") %>%      kable_styling(bootstrap_options = c(\"hover\")) goal <- 90   #limit Test and Treat data   df_tt_rel <- df_tt %>%      filter(year == max(year),            country == \"Kenya\",            indicator %in% c(\"KNOWN_STATUS\", \"KNOWN_STATUS_ON_ART\", \"ON_ART_VLS\"), #using relative base indicators            age == \"all\",            sex == \"all\",            stat == \"est\") %>%     mutate(goal_rate = goal, #use 90 as the goal metric for each indicator            achieved = value >= goal_rate) %>%      select(year, country, indicator, value, goal_rate, achieved)  knitr::kable(df_tt_rel,              format = \"html\",              caption = \"Kenya's 90-90-90 Progress using the Relative Base\") %>%      kable_styling(bootstrap_options = c(\"hover\"))"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/accessing-clean-unaids.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Accesing Clean UNAIDS Data","text":"vignette covers access clean tidy annual UNAIDS Estimates Google Drive R. MindTheGap package uses cleaning function (munge_unaids) process, munge, tidy UNAIDS HIV Estimates AIDSInfo pull_unaids pull cleaned data Google Drive. Let’s start loading MindTheGap package.","code":"library(mindthegap)"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/accessing-clean-unaids.html","id":"aidsinfo-data-structure-and-tidying","dir":"Articles","previous_headings":"","what":"AIDSInfo Data Structure and Tidying","title":"Accesing Clean UNAIDS Data","text":"UNAIDS data reports HIV estimates uncertainty bounds 1990 2020, includes percent indicators integer indicators. data sourced UNAIDS AIDSInfo database, making publicly accessible data. HIV/AIDS Estimates HIV Testing Treatment Cascade Data structure data AIDSInfo tidy requires munging reshaping can utilized analytics visualizations. , munge_unaids function reads original dataset Google Drive, munges reshapes data tidy format, exports data dataframe push back Google Drive. use munge_unaids, 2 important parameters: 1. return_type: group data want use (HIV Estimates Test & Treat Cascade) 2. indicator_type: percent indicators integer indicators. Let’s take look munge_unaids works .","code":"df <- munge_unaids(return_type = \"HIV Estimates\", indicator_type = \"Integer\") knitr::kable(head(df), format = \"html\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/accessing-clean-unaids.html","id":"pull-clean-data-from-google-drive","dir":"Articles","previous_headings":"","what":"Pull clean data from Google Drive","title":"Accesing Clean UNAIDS Data","text":"munge_unaids, left clean tidy dataset includes flag denote whether country PEPFAR country . order make data accessible outside R cut processing time, uploaded clean UNAIDS data Google Drive wrote function pull_unaids easily access data. use pull_unaids, 2 parameters: sheetname: parameter corresponds earlier parameter munge_unaids denotes return_type indicator_type. “HIV Estimates - Integer” “HIV Estimates - Percent” “Test & Treat - Integer” “Test & Treat - Percent” pepfar_only: TRUE, parameter return dataset PEPFAR countries order access data Google drive, sure load USAID credentials. can achieve using glamr::load_secrets() function glamr package authenticate googlesheets package using googlesheets::gs_auth().","code":"library(glamr) load_secrets()  df_est <- pull_unaids(sheetname = \"HIV Estimates - Integer\", pepfar_only = TRUE) knitr::kable(head(df_est), format = \"html\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/epi_control_plots.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Epidemic Control Plots","text":"PEPFAR defines HIV epidemic control “point total number new HIV infections falls total number deaths causes among HIV-infected individuals, declining.” integer indicators HIV Estimates data can used analyze plot trends. assess progress towards definition epidemic control, can use \"HIV Estimates - Integer\" tab UNAIDS data. vignette walk use epi_plot function MindTheGap package generate plots.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/epi_control_plots.html","id":"epidemic-control-plotting-function","dir":"Articles","previous_headings":"Introduction","what":"Epidemic Control Plotting Function","title":"Epidemic Control Plots","text":"First, let’s take look epi_plot function action: use function, first load mindthegap package specify PEPFAR country interest sel_cntry parameter epi_plot function.  addition looking epidemic control country level, can also see trends across PEPFAR using sel_cntry == \"PEPFAR\".  function makes really easy generate plots countries interest. Let’s peek hood see function works munge data create plots.","code":"library(mindthegap)  epi_plot(sel_cntry = \"Kenya\") library(mindthegap)  epi_plot(sel_cntry = \"ALL PEPFAR\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/epi_control_plots.html","id":"reshaping-epidemic-control-data","dir":"Articles","previous_headings":"Introduction","what":"Reshaping epidemic control data","title":"Epidemic Control Plots","text":"First, let’s load libraries need generate plots load HIV Estimates - Integer data. New HIV Infections AIDS Related Deaths Let’s first filter data 2 indicators need, filter sexes ages. Declining deaths: use dplyr::lag() function create value = TRUE deaths declining Infections deaths: TRUE wherever infections < deaths Ratio infections / AIDS-related deaths Epi_control: TRUE declining deaths infections deaths true Now workable dataframe, can start add color style elements. Using ifelse() statements, can add variables indicate colors indicator (drawing color inspiration OHA’s Data Visualization Style Guide). can also add change value AIDS-related deaths create dual-axis. Let’s filter country Kenya now country-level epidemic control curve. val_lab: Adding value label recent year data. can use scales::number() function standardize number format. lab_pt: Add point recent year’s value","code":"library(glitr) library(extrafont) library(scales) library(tidytext) library(ggtext) library(glue)   df_epi <- mindthegap::pull_unaids(sheetname = \"HIV Estimates - Integer\", pepfar_only = TRUE) #Filter down to the estimate and all ages, and the indicators you need   df_epi_pepfar <- df_epi %>%      dplyr::filter(stat == \"est\",            age == \"all\",            sex == \"all\",            indicator %in% c(\"AIDS Related Deaths\", \"New HIV Infections\")) %>%     dplyr::select(year, country, indicator, value) %>%     dplyr::arrange(country, indicator, year)     df_epi_pepfar #> # A tibble: 3,162 x 4 #>     year country indicator           value #>    <dbl> <chr>   <chr>               <dbl> #>  1  1990 Angola  AIDS Related Deaths   520 #>  2  1991 Angola  AIDS Related Deaths   690 #>  3  1992 Angola  AIDS Related Deaths   900 #>  4  1993 Angola  AIDS Related Deaths  1200 #>  5  1994 Angola  AIDS Related Deaths  1500 #>  6  1995 Angola  AIDS Related Deaths  1900 #>  7  1996 Angola  AIDS Related Deaths  2300 #>  8  1997 Angola  AIDS Related Deaths  2800 #>  9  1998 Angola  AIDS Related Deaths  3500 #> 10  1999 Angola  AIDS Related Deaths  4200 #> # ... with 3,152 more rows df_epi_pepfar <- df_epi_pepfar %>%      mutate(indicator = word(indicator, -1) %>% tolower) %>% #simplifies the indicator names     pivot_wider(names_from = \"indicator\") %>% #pivots data wide into deaths and infections column     group_by(country) %>%      mutate(declining_deaths = deaths - lag(deaths, order_by = year) <= 0) %>% #create a value that if true indicates declining deaths     ungroup() %>%      mutate(infections_below_deaths = infections < deaths,            ratio = infections / deaths,            direction_streak = sequence(rle(declining_deaths)$lengths),            epi_control = declining_deaths == TRUE & infections_below_deaths == TRUE) #epi control definition  df_epi_pepfar #> # A tibble: 1,581 x 9 #>     year country deaths infections declining_deaths infections_below_deat~ ratio #>    <dbl> <chr>    <dbl>      <dbl> <lgl>            <lgl>                  <dbl> #>  1  1990 Angola     520       3400 NA               FALSE                   6.54 #>  2  1991 Angola     690       4300 FALSE            FALSE                   6.23 #>  3  1992 Angola     900       5400 FALSE            FALSE                   6    #>  4  1993 Angola    1200       6500 FALSE            FALSE                   5.42 #>  5  1994 Angola    1500       7900 FALSE            FALSE                   5.27 #>  6  1995 Angola    1900       9300 FALSE            FALSE                   4.89 #>  7  1996 Angola    2300      11000 FALSE            FALSE                   4.78 #>  8  1997 Angola    2800      13000 FALSE            FALSE                   4.64 #>  9  1998 Angola    3500      15000 FALSE            FALSE                   4.29 #> 10  1999 Angola    4200      17000 FALSE            FALSE                   4.05 #> # ... with 1,571 more rows, and 2 more variables: direction_streak <int>, #> #   epi_control <lgl> #Add colors to indicators and flip axis   df_epi_pepfar <- df_epi_pepfar %>%      pivot_longer(c(infections, deaths), names_to = \"indicator\") %>%      arrange(country, indicator, year) %>%      mutate(value_mod = ifelse(indicator == \"deaths\", -value, value),            fill_color = ifelse(indicator == \"deaths\", old_rose, denim)) #COUNTRY     df_viz_cntry <- df_epi_pepfar %>%       dplyr::filter(country %in% \"Kenya\") %>%       dplyr::mutate(val_lab = dplyr::case_when(year == max(year) ~ scales::number(value, 1, scale = 1e-3, suffix = \"k\")),              lab_pt = dplyr::case_when(year == max(year) ~ value_mod),              country = factor(country, \"Kenya\"))"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/epi_control_plots.html","id":"plotting-the-epidemic-control-curves","dir":"Articles","previous_headings":"Introduction","what":"Plotting the epidemic control curves","title":"Epidemic Control Plots","text":"ggplot(): define aesthetics (x = year, y = value_mod, group indicator, add fill color fill_color) geom_area(): creates area graph geom_line(): creates line border area graph geom_hline(): adds horizontal line x-axis  geom_point(): adds point lab_pt specified earlier geom_text(): adds annotation val_lab specified earlier scale_y_continuous(): cleans y-axis scales::label_number_si() scale_x_continuous(): breaks x-axis year markings 10 year increments 1990 2025.  ’re almost ! Let’s tackle issue color - even though specified color indicators aesthetics earlier, still doesn’t see registering fill_color. solve issue, use function scale_fill_identity() tell ggplot use pre-specified fill_color column color identity.  labs(): specifying x y NULL, removing labels axis. can add additional annotations titles, subtitles, captions, etc. coord_cartesian(): changing cartesian plot clipping preferences glitr::si_style_ygrid(): uses standard SI style format glitr package theme():","code":"df_viz_cntry %>%       ggplot(aes(year, value_mod, group = indicator, fill = fill_color, color = fill_color)) +       geom_area(alpha = .25) +       geom_hline(yintercept = 0, color = glitr::grey80k) +       geom_line() # geom_point(aes(y = lab_pt), na.rm = TRUE,       #            shape = 21, color = \"white\", size = 3) +       # geom_text(aes(label = val_lab), na.rm = TRUE,       #           hjust = -0.3,       #           family = \"Source Sans Pro Light\") +       # facet_wrap(~country, ncol = 2, scales = \"free_y\") +       # scale_y_continuous(labels = ~ scales::label_number_si()(abs(.))) +       # scale_x_continuous(breaks = seq(1990, 2025, 10)) +       # scale_fill_identity(aesthetics = c(\"fill\", \"color\")) +       # labs(x = NULL, y = NULL) +       # coord_cartesian(expand = T, clip = \"off\") +       # glitr::si_style_ygrid() +       # theme(axis.text.y = ggtext::element_markdown(),       #       panel.spacing.x = unit(20, \"pt\"),       #       panel.spacing.y = unit(0, \"pt\")) df_viz_cntry %>%       ggplot(aes(year, value_mod, group = indicator, fill = fill_color, color = fill_color)) +       geom_area(alpha = .25) +       geom_hline(yintercept = 0, color = glitr::grey80k) +       geom_line() +        geom_point(aes(y = lab_pt), na.rm = TRUE,                   shape = 21, color = \"white\", size = 3) +       geom_text(aes(label = val_lab), na.rm = TRUE,                 hjust = -0.3,                 family = \"Source Sans Pro Light\") +       scale_y_continuous(labels = ~ scales::label_number_si()(abs(.))) +       scale_x_continuous(breaks = seq(1990, 2025, 10)) #scale_fill_identity(aesthetics = c(\"fill\", \"color\"))       # labs(x = NULL, y = NULL) +       # coord_cartesian(expand = T, clip = \"off\") +       # glitr::si_style_ygrid() +       # theme(axis.text.y = ggtext::element_markdown(),       #       panel.spacing.x = unit(20, \"pt\"),       #       panel.spacing.y = unit(0, \"pt\")) df_viz_cntry %>%       ggplot(aes(year, value_mod, group = indicator, fill = fill_color, color = fill_color)) +       geom_area(alpha = .25) +       geom_hline(yintercept = 0, color = glitr::grey80k) +       geom_line() +        geom_point(aes(y = lab_pt), na.rm = TRUE,                   shape = 21, color = \"white\", size = 3) +       geom_text(aes(label = val_lab), na.rm = TRUE,                 hjust = -0.3,                 family = \"Source Sans Pro Light\") +       scale_y_continuous(labels = ~ scales::label_number_si()(abs(.))) +       scale_x_continuous(breaks = seq(1990, 2025, 10))+       scale_fill_identity(aesthetics = c(\"fill\", \"color\")) # labs(x = NULL, y = NULL) +       # coord_cartesian(expand = T, clip = \"off\") +       # glitr::si_style_ygrid() +       # theme(axis.text.y = ggtext::element_markdown(),       #       panel.spacing.x = unit(20, \"pt\"),       #       panel.spacing.y = unit(0, \"pt\")) df_viz_cntry %>%       ggplot(aes(year, value_mod, group = indicator, fill = fill_color, color = fill_color)) +       geom_area(alpha = .25) +       geom_hline(yintercept = 0, color = glitr::grey80k) +       geom_line() +        geom_point(aes(y = lab_pt), na.rm = TRUE,                   shape = 21, color = \"white\", size = 3) +       geom_text(aes(label = val_lab), na.rm = TRUE,                 hjust = -0.3,                 family = \"Source Sans Pro Light\") +       scale_y_continuous(labels = ~ scales::label_number_si()(abs(.))) +       scale_x_continuous(breaks = seq(1990, 2025, 10))+       scale_fill_identity(aesthetics = c(\"fill\", \"color\")) +       facet_wrap(~country, ncol = 2, scales = \"free_y\") +       labs(x = NULL, y = NULL) +       coord_cartesian(expand = T, clip = \"off\") +       glitr::si_style_ygrid() +       theme(axis.text.y = ggtext::element_markdown(),             panel.spacing.x = unit(20, \"pt\"),             panel.spacing.y = unit(0, \"pt\"))"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/relative-plhiv-base.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"90-90-90 Target Progress: Relative Base vs. PLHIV Base","text":"2014, UNAIDS proposed 90-90-90 targets set achieved 2020, 90% PLHIV know status, 90% know status accessing treatment, 90% accessing treatment virally suppressed. Importantly, two types metrics measure 90-90-90 target progress : PLHIV base relative/conditional denominator base. vignette outline key differences two metrics, UNAIDS indicators use , interpret different parameters.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/relative-plhiv-base.html","id":"whats-the-difference-between-the-relative-base-and-the-plhiv-base","dir":"Articles","previous_headings":"Introduction","what":"What’s the difference between the relative base and the PLHIV base?","title":"90-90-90 Target Progress: Relative Base vs. PLHIV Base","text":"relative base conditional denominator (based targets) important countries programs know focus response. metric provides values sliding scale, 90% PLHIV know status, 90% know status accessing treatment, 90% accessing treatment virally suppressed. PLHIV base/denominator (testing treatment cascade) best used comparing countries knowing country-specific progress towards curbing HIV epidemic. PLHIV base 3 90’s, targets become 90% PLHIV known status, 81% PLHIV accessing treatment, 73% PLHIV virally suppressed. useful, different purposes (see visual ).","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/relative-plhiv-base.html","id":"how-to-use-unaids-data-to-assess-90s-progress","dir":"Articles","previous_headings":"Introduction","what":"How to use UNAIDS Data to Assess 90’s Progress","title":"90-90-90 Target Progress: Relative Base vs. PLHIV Base","text":"assess progress 90-90-90 targets, use \"Test & Treat - Percent\" data: KNOWN_STATUS: Percent PLHIV known HIV status KNOWN_STATUS_ON_ART: Among know status, percent ART ON_ART_VLS: Among ART, percent virally suppressed KNOWN_STATUS: Percent PLHIV known HIV status PLHIV_ON_ART: Among PLHVIV, percent ART VLS: Among PLHIV, percent virally suppressed Let’s take deep dive Kenya’s progress 90’s using PLHIV base. Kenya’s 90-90-90 Progress using PLHIV Base can see, using PLHIV base, Kenya reached 3 90’s - 96% PLHIV know status, 86% PLHIV accessing treatment, 81% PLHIV virally suppressed. happens use relative base? Kenya’s 90-90-90 Progress using Relative Base Using relative base, can see 96% PLHIV Kenya know status, 89% 96% know status treatment, 94% 89% treatment virally suppressed. , Kenya meets 1st 3rd 90 relative base, reach 2nd 90. result differences 2 metrics, number PEPFAR countries reached 90s varies depending denominator. relative base, 6 countries reached 3 90’s: Eswatini, Rwanda, Malawi, Botswana, Uganda, Namibia.  PLHIV base, list countries expands 6 9 countries reached 3 90’s, adding Kenya, Zimbabwe, Lesotho.","code":"df_tt <- pull_unaids(sheetname = \"Test & Treat - Percent\", pepfar_only = TRUE) goal <- 90   #limit Test and Treat data   df_tt_plhiv <- df_tt %>%      filter(year == max(year),            country == \"Kenya\",            indicator %in% c(\"KNOWN_STATUS\", \"PLHIV_ON_ART\", \"VLS\"), #Using the PLHIV base indicators            age == \"all\",            sex == \"all\",            stat == \"est\") %>%      mutate(set = recode(indicator, \"KNOWN_STATUS\" = 1,                          \"PLHIV_ON_ART\" = 2,                         \"VLS\" = 3),            goal_rate = round((goal/100)^set*100),             achieved = value >= goal_rate) %>% #sets the moving goal rate for each 90 for PLHIV base     select(year, country, indicator, value, goal_rate, achieved)  knitr::kable(df_tt_plhiv,              format = \"html\",              caption = \"Kenya's 90-90-90 Progress using PLHIV Base\") %>%      kable_styling(bootstrap_options = c(\"hover\")) goal <- 90   #limit Test and Treat data   df_tt_rel <- df_tt %>%      filter(year == max(year),            country == \"Kenya\",            indicator %in% c(\"KNOWN_STATUS\", \"KNOWN_STATUS_ON_ART\", \"ON_ART_VLS\"), #using relative base indicators            age == \"all\",            sex == \"all\",            stat == \"est\") %>%     mutate(goal_rate = goal, #use 90 as the goal metric for each indicator            achieved = value >= goal_rate) %>%      select(year, country, indicator, value, goal_rate, achieved)  knitr::kable(df_tt_rel,              format = \"html\",              caption = \"Kenya's 90-90-90 Progress using the Relative Base\") %>%      kable_styling(bootstrap_options = c(\"hover\"))"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/unaids-data-dictionary.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Data Dictionary & Use Cases","text":"vignette serves data dictionary UNAIDS 2020 Estimates Data. cover data structure variables, well provide overview indicators across HIV Estimates tab Test & Treat tab. Finally, touch briefly common use cases data tab access analytics.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/unaids-data-dictionary.html","id":"unaids-clean-data-structure","dir":"Articles","previous_headings":"","what":"UNAIDS Clean Data Structure","title":"Data Dictionary & Use Cases","text":"Let’s first take look data structure, using HIV Estimates - Percent tab example. Within UNAIDS datasets, disaggregates age sex. also variable called stat, indicates whether value actual estimate, lower upper bound. Let’s take look disaggregates \"HIV Estimates - Percent\" tab. Age/Sex/Stat Count Table HIV Estimates - Percent tab can see, multiple different disaggregates, especially across indicators. instance, looking HIV Incidence, age disaggregates ages 15-49 ages, disaggregates sex. looking Prevalence, sex disaggregates young adults (15-24), sex disaggregates age group 15-49. , important filter age/sex/stat disaggregates interested diving analytics.","code":"df_pct <- pull_unaids(sheetname = \"HIV Estimates - Percent\", pepfar_only = TRUE) knitr::kable(head(df_pct, n = 6L), format = \"html\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/unaids-data-dictionary.html","id":"hiv-estimates-indicators-and-use-cases","dir":"Articles","previous_headings":"","what":"HIV Estimates Indicators and Use Cases","title":"Data Dictionary & Use Cases","text":"HIV estimates data covers epidemiological indicators, HIV prevalence/incidence, new infections, AIDS-related death, etc. 2 percent indicators (HIV Prevalence HIV Incidence) 4 integer indicators (PLHIV, AIDS-related deaths, PMTCT, New HIV Infections). pull percent HIV Estimates indicators PEPFAR countries, use pull_unaids(sheetname = \"HIV Estimates - Percent, pepfar_only = TRUE). pull integer HIV Estimates indicators, use pull_unaids(sheetname = \"HIV Estimates - Integer, pepfar_only = TRUE).","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/unaids-data-dictionary.html","id":"use-case-1-epidemic-control-curves","dir":"Articles","previous_headings":"HIV Estimates Indicators and Use Cases","what":"Use Case #1: Epidemic Control Curves","title":"Data Dictionary & Use Cases","text":"PEPFAR defines HIV epidemic control “point total number new HIV infections falls total number deaths causes among HIV-infected individuals, declining.” integer indicators HIV Estimates data can used analyze plot trends. assess progress towards definition epidemic control, use \"HIV Estimates - Integer\" data: New HIV Infections AIDS Related Deaths information create plots, see article Epidemic Control Plots.","code":"df_est <- pull_unaids(sheetname = \"HIV Estimates - Integer\", pepfar_only = TRUE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/unaids-data-dictionary.html","id":"use-case-2-incidenceprevalence-curves","dir":"Articles","previous_headings":"HIV Estimates Indicators and Use Cases","what":"Use Case #2: Incidence/Prevalence Curves","title":"Data Dictionary & Use Cases","text":"plot HIV Incidence Prevalence curves confidence intervals, use \"HIV Estimates - Percent\" data: Prevalence Incidence","code":"df_est <- pull_unaids(sheetname = \"HIV Estimates - Percent\", pepfar_only = TRUE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/unaids-data-dictionary.html","id":"test-treat-indicators-use-cases","dir":"Articles","previous_headings":"","what":"Test & Treat Indicators & Use Cases","title":"Data Dictionary & Use Cases","text":"Test & Treat Data covers indicators clinical cascade, can used track progress UNAIDS 90-90-90 targets. 6 percent indicators 5 integer indicators. pull percent Test & Treat indicators PEPFAR countries, use pull_unaids(sheetname = \"Test & Treat - Percent, pepfar_only = TRUE). pull integer Test & Treat indicators, use pull_unaids(sheetname = \"Test & Treat - Integer, pepfar_only = TRUE).","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/articles/unaids-data-dictionary.html","id":"use-case-3-progress-to-90-90-90-targets","dir":"Articles","previous_headings":"Test & Treat Indicators & Use Cases","what":"Use Case #3: Progress to 90-90-90 Targets","title":"Data Dictionary & Use Cases","text":"percent indicators Test & Treat data can used assess progress UNAIDS 90-90-90 targets set achieved 2020, 90% PLHIV know status, 90% know status accessing treatment, 90% accessing treatment virally suppressed. assess progress 90-90-90 targets, use \"Test & Treat - Percent\" data: may notice, multiple test & treat percent indicators clinical cascade. 2 types metrics can used calculate progress 90-90-90 targets - relative base/conditional denominator PLHIV base/denominator. KNOWN_STATUS: Percent PLHIV known HIV status KNOWN_STATUS_ON_ART: Among know status, percent ART ON_ART_VLS: Among ART, percent virally suppressed KNOWN_STATUS: Percent PLHIV known HIV status PLHIV_ON_ART: Among PLHVIV, percent ART VLS: Among PLHIV, percent virally suppressed information distinction relative/PLHIV base assess 90-90-90 progress, see article 90-90-90 Target Progress: Relative Base vs. PLHIV Base.","code":"df_tt <- pull_unaids(sheetname = \"Test & Treat - Percent\", pepfar_only = TRUE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Aaron Chafetz. Author, maintainer. Karishma Srikanth. Author.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Chafetz , Srikanth K (2022). mindthegap: Mind Gap: 90-90-90 Trends ART Coverage Gaps. https://github.com/USAID-OHA-SI/mindthegap, https://usaid-oha-si.github.io/mindthegap, https://usaid-oha-si.github.io/mindthegap/.","code":"@Manual{,   title = {mindthegap: Mind the Gap: 90-90-90 Trends and ART Coverage Gaps},   author = {Aaron Chafetz and Karishma Srikanth},   year = {2022},   note = {https://github.com/USAID-OHA-SI/mindthegap, https://usaid-oha-si.github.io/mindthegap, https://usaid-oha-si.github.io/mindthegap/}, }"},{"path":"https://usaid-oha-si.github.io/mindthegap/index.html","id":"mindthegap-","dir":"","previous_headings":"","what":"Mind the Gap: 90-90-90 Trends and ART Coverage Gaps","title":"Mind the Gap: 90-90-90 Trends and ART Coverage Gaps","text":"mindthegap developed 2019 preparation agency self assessments COP show UNAIDS 90-90-90 Progress ART Gap. turned package process, clean, export tidy UNAIDS Estimates data ease access.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/index.html","id":"installing-mindthegap","dir":"","previous_headings":"","what":"Installing mindthegap","title":"Mind the Gap: 90-90-90 Trends and ART Coverage Gaps","text":"mindthegap CRAN, install directly Github using devtools. devtools package installed, run install.packages(\"devtools\") line code well. also relies ICPIutitlies need installed way.","code":"#install     install.packages(\"devtools\")     devtools::install_github(\"USAID-OHA-SI/mindthegap\")     devtools::install_github(\"ICPI/ICPIutilities\")"},{"path":"https://usaid-oha-si.github.io/mindthegap/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Mind the Gap: 90-90-90 Trends and ART Coverage Gaps","text":"basic example load data Google Drive using pull_unaids.","code":"library(mindthegap)  df_est <- pull_unaids(sheetname = \"HIV Estimates - Integer\", pepfar_only = TRUE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/index.html","id":"data-sources","dir":"","previous_headings":"","what":"Data Sources","title":"Mind the Gap: 90-90-90 Trends and ART Coverage Gaps","text":"Data sourced UNAIDS’ AIDSInfo [public] PEPFAR Implementation Planning Attributes (IMPATT, now referred NAT_SUBNAT) [non public]. data downloaded aidsinfo.unaids.org/ data extracted 2020-10-17 data downloaded pepfar-panorama.org/ MER_Structured_Datasets_NAT_SUBNAT_FY15-21_20200918_v2_1.txt data extracted 2020-09-30 munged IMPATT dataset stored USAID Google Drive Disclaimer: findings, interpretation, conclusions expressed herein authors necessarily reflect views United States Agency International Development. errors remain .","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2020 Aaron Chafetz Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/base_gray.html","id":null,"dir":"Reference","previous_headings":"","what":"Base gray for plot elements — base_gray","title":"Base gray for plot elements — base_gray","text":"color used plot elements","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/base_gray.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Base gray for plot elements — base_gray","text":"","code":"base_gray"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/base_gray.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Base gray for plot elements — base_gray","text":"object class character length 1.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/blue_palette.html","id":null,"dir":"Reference","previous_headings":"","what":"Blue palette — blue_palette","title":"Blue palette — blue_palette","text":"color used dots/lines/bars","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/blue_palette.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Blue palette — blue_palette","text":"","code":"blue_palette"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/blue_palette.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Blue palette — blue_palette","text":"object class character length 3.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/caption_gray.html","id":null,"dir":"Reference","previous_headings":"","what":"Text gray for plot caption — caption_gray","title":"Text gray for plot caption — caption_gray","text":"color used plot caption","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/caption_gray.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Text gray for plot caption — caption_gray","text":"","code":"caption_gray"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/caption_gray.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Text gray for plot caption — caption_gray","text":"object class character length 1.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/combo_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Combo Plot — combo_plot","title":"Combo Plot — combo_plot","text":"Combo Plot","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/combo_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Combo Plot — combo_plot","text":"","code":"combo_plot(ctry_sel, folderpath_output = NULL)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/combo_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Combo Plot — combo_plot","text":"ctry_sel country visualize folderpath_output folderpath outputs stored, NULL (default) outputsaved","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/combo_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Combo Plot — combo_plot","text":"combined plots 90-90-90 trends ART gap age/sex","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/epi_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Epidemic Control Plot — epi_plot","title":"Epidemic Control Plot — epi_plot","text":"function creates epidemic control curves selected OU \"PEPFAR\"","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/epi_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Epidemic Control Plot — epi_plot","text":"","code":"epi_plot(sel_cntry)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/epi_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Epidemic Control Plot — epi_plot","text":"sel_cntry country visualize (OU name \"PEPFAR\")","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/epi_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Epidemic Control Plot — epi_plot","text":"epidemic control plot showing trends new infections AIDS-related deaths","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/epi_plot.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Epidemic Control Plot — epi_plot","text":"","code":"if (FALSE) {    epi_plot(sel_cntry = \"Lesotho\")    epi_plot(sel_cntry = \"ALL PEPFAR\") }"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/grid_gray.html","id":null,"dir":"Reference","previous_headings":"","what":"Grid gray for plot — grid_gray","title":"Grid gray for plot — grid_gray","text":"color used plot grid","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/grid_gray.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Grid gray for plot — grid_gray","text":"","code":"grid_gray"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/grid_gray.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Grid gray for plot — grid_gray","text":"object class character length 1.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/gs_id.html","id":null,"dir":"Reference","previous_headings":"","what":"UNAIDS Google Sheet ID — gs_id","title":"UNAIDS Google Sheet ID — gs_id","text":"UNAIDS Google Sheet ID","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/gs_id.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"UNAIDS Google Sheet ID — gs_id","text":"","code":"gs_id"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/gs_id.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"UNAIDS Google Sheet ID — gs_id","text":"object class character length 1.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/gs_id.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"UNAIDS Google Sheet ID — gs_id","text":"google sheet id","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/load_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Load data for viz — load_data","title":"Load data for viz — load_data","text":"Load data viz","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/load_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load data for viz — load_data","text":"","code":"load_data(usaid_email = NULL)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/load_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load data for viz — load_data","text":"usaid_email USAID email store file GDrive","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/load_data.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load data for viz — load_data","text":"","code":"if (FALSE) {    load_data(\"twhitmore@usaid.gov\")}"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/mindthegap-package.html","id":null,"dir":"Reference","previous_headings":"","what":"mindthegap: Mind the Gap: 90-90-90 Trends and ART Coverage Gaps — mindthegap-package","title":"mindthegap: Mind the Gap: 90-90-90 Trends and ART Coverage Gaps — mindthegap-package","text":"Package pull UNAIDS estimates well plot trends UNAIDS 90-90-90 goals ART coverage gap country.","code":""},{"path":[]},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/mindthegap-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"mindthegap: Mind the Gap: 90-90-90 Trends and ART Coverage Gaps — mindthegap-package","text":"Maintainer: Aaron Chafetz achafetz@usaid.ogv Authors: Karishma Srikanth ksrikanth@usaid.gov","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/mtg_theme.html","id":null,"dir":"Reference","previous_headings":"","what":"Mind The Gap Plot Theme — mtg_theme","title":"Mind The Gap Plot Theme — mtg_theme","text":"Mind Gap Plot Theme","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/mtg_theme.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mind The Gap Plot Theme — mtg_theme","text":"","code":"mtg_theme()"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/mtg_theme.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mind The Gap Plot Theme — mtg_theme","text":"theme","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/munge_unaids.html","id":null,"dir":"Reference","previous_headings":"","what":"Cleaning UNAIDS Data — munge_unaids","title":"Cleaning UNAIDS Data — munge_unaids","text":"function fetches cleans UNAIDS Estimates/Test Treat Data","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/munge_unaids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cleaning UNAIDS Data — munge_unaids","text":"","code":"munge_unaids(return_type, indicator_type)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/munge_unaids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cleaning UNAIDS Data — munge_unaids","text":"return_type Returns either 'HIV Estimates' 'HIV Test & Treat' Data indicator_type Returns either 'Integer' 'Percent' indicator values","code":""},{"path":[]},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/munge_unaids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Cleaning UNAIDS Data — munge_unaids","text":"","code":"if (FALSE) {    munge_unaids(return_type = \"HIV Test & Treat\", indicator_type = \"Percent\") }"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/package_check.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if package exists — package_check","title":"Check if package exists — package_check","text":"Check package exists","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/package_check.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if package exists — package_check","text":"","code":"package_check(pkg)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/package_check.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if package exists — package_check","text":"pkg package name","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pull_unaids.html","id":null,"dir":"Reference","previous_headings":"","what":"Pull clean UNAIDS 2021 Estimates — pull_unaids","title":"Pull clean UNAIDS 2021 Estimates — pull_unaids","text":"Pull clean UNAIDS 2021 (1990-2020) estimates","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pull_unaids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pull clean UNAIDS 2021 Estimates — pull_unaids","text":"","code":"pull_unaids(sheetname, pepfar_only = FALSE)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pull_unaids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pull clean UNAIDS 2021 Estimates — pull_unaids","text":"sheetname returns tab name Google Sheet eg \"HIV Estimates - Integer\", \"HIV Estimates - Percent\", \"Test & Treat - Integer\", \"Test & Treat - Percent\" pepfar_only return dataset PEPFAR countries TRUE (defualt = FALSE)","code":""},{"path":[]},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/pull_unaids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pull clean UNAIDS 2021 Estimates — pull_unaids","text":"","code":"if (FALSE) {    pull_unaids(sheetname = \"HIV Estimates - Integer\", pepfar_only = TRUE) }"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/regions.html","id":null,"dir":"Reference","previous_headings":"","what":"Title\r\nExport a list of UN regions — regions","title":"Title\r\nExport a list of UN regions — regions","text":"list used filter UN regions","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/regions.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title\r\nExport a list of UN regions — regions","text":"","code":"regions"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/regions.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Title\r\nExport a list of UN regions — regions","text":"object class character length 9.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/source_note.html","id":null,"dir":"Reference","previous_headings":"","what":"Title\r\nUNAIDS Source Info — source_note","title":"Title\r\nUNAIDS Source Info — source_note","text":"Returns UNAIDS Source info consistent sourcing notes","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/source_note.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title\r\nUNAIDS Source Info — source_note","text":"","code":"source_note"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/source_note.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Title\r\nUNAIDS Source Info — source_note","text":"object class character length 1.","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/unaids_hdrs.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate UNAIDS headers — unaids_hdrs","title":"Generate UNAIDS headers — unaids_hdrs","text":"Generate UNAIDS headers","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/unaids_hdrs.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate UNAIDS headers — unaids_hdrs","text":"","code":"unaids_hdrs()"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/unaids_hdrs.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate UNAIDS headers — unaids_hdrs","text":"list headers","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_impatt.html","id":null,"dir":"Reference","previous_headings":"","what":"Update IMPATT Dataset — update_impatt","title":"Update IMPATT Dataset — update_impatt","text":"Update IMPATT Dataset","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_impatt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update IMPATT Dataset — update_impatt","text":"","code":"update_impatt(filepath, usaid_email)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_impatt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update IMPATT Dataset — update_impatt","text":"filepath filepath IMPATT data (pepfar-panorama.org) usaid_email USAID email store file GDrive","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_impatt.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update IMPATT Dataset — update_impatt","text":"","code":"if (FALSE) {    path <- \"~/Data/MER_Structured_Datasets_NAT_SUBNAT_FY15-21_20200918_v2_1.rds\"    update_impatt(path, \"twhitmore@usaid.gov\") }"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_unaids.html","id":null,"dir":"Reference","previous_headings":"","what":"Update UNAIDS 90-90-90 data — update_unaids","title":"Update UNAIDS 90-90-90 data — update_unaids","text":"Update UNAIDS 90-90-90 data","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_unaids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Update UNAIDS 90-90-90 data — update_unaids","text":"","code":"update_unaids(filepaths, usaid_email)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_unaids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Update UNAIDS 90-90-90 data — update_unaids","text":"filepaths filepaths 3 UNAIDS files - , Female, Male usaid_email USAID email store file GDrive","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/update_unaids.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Update UNAIDS 90-90-90 data — update_unaids","text":"","code":"if (FALSE) {    files <- list.files(\"data-raw\", full.names = TRUE)    update_unaids(files, \"twhitmore@usaid.gov\") }"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_impatt.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize share of PLHIV on ART — viz_impatt","title":"Visualize share of PLHIV on ART — viz_impatt","text":"Visualize share PLHIV ART","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_impatt.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize share of PLHIV on ART — viz_impatt","text":"","code":"viz_impatt(ctry_sel)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_impatt.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize share of PLHIV on ART — viz_impatt","text":"ctry_sel country visualize","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_impatt.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize share of PLHIV on ART — viz_impatt","text":"gap plot","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_unaids.html","id":null,"dir":"Reference","previous_headings":"","what":"Visualize 90-90-90 Trends from UNAIDS — viz_unaids","title":"Visualize 90-90-90 Trends from UNAIDS — viz_unaids","text":"Visualize 90-90-90 Trends UNAIDS","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_unaids.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Visualize 90-90-90 Trends from UNAIDS — viz_unaids","text":"","code":"viz_unaids(ctry_sel)"},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_unaids.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Visualize 90-90-90 Trends from UNAIDS — viz_unaids","text":"ctry_sel country visualize","code":""},{"path":"https://usaid-oha-si.github.io/mindthegap/reference/viz_unaids.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Visualize 90-90-90 Trends from UNAIDS — viz_unaids","text":"trend plots","code":""}]
